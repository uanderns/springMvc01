<%@page contentType="text/html; chartset=ISO-8859-1" pageEncoding="ISO-8859-1"%>

<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form" %>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Home</title>

	<!-- Folha de estilo CSS -->
	<link rel="stylesheet" href="resources/css/bootstrap.min.css" />
	
	<!-- formatação CSS para o jquery-validate -->
	<style>
		/* formatação da mensagem de erro */
		label.error {
			color: #d9534f;
		}
		
		/* formtação do campo */
		input.error {
			border: 1px solid #d9534f;
		}
	</style>

</head>
<body>

	<c:if test="${not empty mensagem_sucesso}">
	
		<div class="alert alert-success alert-dismissible fade show" role="alert">
  			<strong>Sucesso!</strong> ${mensagem_sucesso}
  			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>	
		
	</c:if>	
	
	<c:if test="${not empty mensagem_erro}">
	
		<div class="alert alert-danger alert-dismissible fade show" role="alert">
  			<strong>Erro!</strong> ${mensagem_erro}
  			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>	
		
	</c:if>	

	<div class="container mt-4">

		<h1>Edição de Cliente</h1>
		<a href="/springMvc01/listagemClientes" class="btn btn-light">Voltar para a consulta</a>
		<hr />

		<div class="row">
			<div class="col-md-4">

				<!-- Formulário -->
				<form id="formEdicao" action="" method="post">
					
					<!-- campo oculto -->
					<form:input path="cliente.idCliente" type="hidden"/>


					<div class="mb-4">
						<label>Nome do Cliente:</label> 
						<form:input path="cliente.nome"
							class="form-control" autocomplete="off"
							placeholder="Ex: João da Silva" />
					</div>

					<div class="mb-4">
						<label>Email:</label> 
						<form:input path="cliente.email"
							class="form-control"
							autocomplete="off" placeholder="Ex: joaosilva@gmail.com" />
					</div>

					<div>
						<button type="submit" class="btn btn-primary">Salvar Alterações</button>
					</div>

				</form>

			</div>
		</div>

	</div>

	<!-- Arquivos JavaScript -->
	<script src="resources/js/jquery-3.5.1.min.js"></script>
	<script src="resources/js/bootstrap.min.js"></script>
	
	<script src="resources/js/jquery.validate.min.js"></script>
	<script src="resources/js/messages_pt_BR.min.js"></script>
	
	<!-- validação do formulário -->
	<script>
		//iniciando o jquery..
		$(document).ready(function(){
			
			//ativando a validação (jquery.validate) para o formulário
			$("#formEdicao").validate({
				
				//definindo a regra de validação de cada campo
				rules : {
					'nome' : { //campo
						required : true, //campo obrigatório
						minlength : 8, //tamanho minimo do campo
						maxlength : 150 //tamanho máximo do campo 
					},
					'email' : { //campo
						required : true, //campo obrigatório
						email : true //formato de email válido
					}
				}
			});			
		})
	</script>

</body>
</html>



