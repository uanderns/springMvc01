package br.com.cotiinformatica.controller;


import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class ClientesController {
	
	// método para abrir a página de cadastro de clientes
		@RequestMapping("/formularioCliente") //que vai aparecer na URL
		public String formularioCliente() {
			// WEB-INF/views/clientes/formulario-cliente.jsp
			return "clientes/formulario-cliente";
		}
		
		//método para receber o SUBMIT POST do formulário
		@RequestMapping(value = "/cadastrarCliente", method = RequestMethod.POST)
		public 	ModelAndView cadastrarCliente(ModelMap map) {
			
			//definindo uma mensagem para exibir na página..
			map.addAttribute("mensagem-sucesso", "Cliente cadastrado com sucesso");
			
			//criando um objeto ModelAndView
			ModelAndView modelAndView = new ModelAndView("clientes/formulario-cliente", map);
			return modelAndView;
			
			
		}

		// método para abrir a página de consulta de clientes
		@RequestMapping("/listagemClientes")
		public String listagemClientes() {
			// WEB-INF/views/clientes/listagem-clientes.jsp
			return "clientes/listagem-clientes";
	}

}
